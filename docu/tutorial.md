# Tutorial for the **JSON-Region-Plugin**
---
** Work in progress**

---

**Important Info**:
The tutorial wil run with **Oracle-APEX >= 22.1**


The **JSON-Region-Plugin** can be used in different configurations.

- JSON-data is to be displayed only with an automatic generated JSON-schema
- The JSON-data-column contains rows of a single JSON-schema only
- The JSON-data-column contains rows of several JSON-schemas identified by a "type-column"

- Oracle23ai
  - The JSON-data-column has a JSON-validate-schema constraint
  - The JSON-data is used from a Duality-view


## Installation

There is an application **tutorial.sql** in directory **examples**.
To start this tutorial first install this application via **Import** in the 

The plugin is installed like every other plugin via **shared components->Plug-In->Import**. As file use the file **region_type_plugin_json_region_uwesimon_selfhost_e.sql** located in the directory **plugin**.

## Add the plugin to a page


## Table already contains JSON-data

When a table already contains rows with JSON-data, this can be used for the **automatic schema-generation**.

### Automatic generation of an UI based on JSON-data 

The simples way to start with the **JSON-reqion-plugin** is using the **automatic generated JSON-schema**.

This works fine as long JSON-data is displayed only and you are hapopy with the default layout and UI-typetypes. 

**Caution**:
Optional properties are not always shown, because the UI is generated based on the existing data properties only.
When data is to be editied, a JSON-schema is required.
Without a JSON-schema the UI will contain no properties when creating new rows.

### Generated JSON-schema as template

When using the **automatic generation** the plugin generates a JSON-schema first.
This schema could be found in the browser-console and can be copied as a master for further improvements

## JSON-schema references

JSON-schema-references are used to include common subschema consitently, like an **address** for **home-address**, **billing-address** and **delivery-address**. They are defined by the key **"$ref"**. They 

The **JSON-Region-Plugin** supports several kinds of JSON-schema-references inside a JSON-schema

- document local with ```{"$ref": "#/$defs/abc}```
- fixed schema from a **schema-table** with ```{"$ref": "/defs/abc}```
- **enums** generated from the database with ```{"$ref": "/enum/abc}```
- schemas generated by a custom function
 
**Info**:
JSON-schema-references with an URL to a externel server are not supported yet.

### Document local reference

### Fixed schema from a database-table

### Generated JSON-schema


## Oracle23ai

### Table with JSON-column and VALIDATE constraint

### Duality-View